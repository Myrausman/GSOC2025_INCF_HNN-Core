# INCF GSoC 2025 – Project #22

**Project Title:** INCF GSoC 2025 - Project #22 - Develop Python API for Multi-Network Simulations in Human Neocortical Neurosolver (HNN)

**Mentee:** Maira (Myra) Usman

**Mentors:** Austin Soplata, Dylan S. Daniels, Nicholas Tolley

**Organization:** INCF

**Project Repo:** [https://github.com/jonescompneurolab/hnn-core](https://github.com/jonescompneurolab/hnn-core)

**Docs (dev):** [https://jonescompneurolab.github.io/hnn-core/dev/](https://jonescompneurolab.github.io/hnn-core/dev/)

---

## Key contributions

### 1) New capability: replay spike trains as input (building block for multi‑network)

It lets a target network receive **explicit spike trains**. This enables the driving of a second network with spikes generated by a first network (or by recorded/external data).

* Tutorial: *Replaying Spike Data as Input*
  [https://jonescompneurolab.github.io/hnn-core/dev/auto\_examples/howto/plot\_replaying\_spike\_data\_as\_input.html](https://jonescompneurolab.github.io/hnn-core/dev/auto_examples/howto/plot_replaying_spike_data_as_input.html)

**Highlights**

* `Network.add_spike_train_drive(...)` to configure explicit spike inputs.
* Supports multiple formats (dict/tuple, file‑based) with input validation.
* Includes unit tests and docs.

### 2) Foundations for multi‑network simulations

* Ongoing efforts have focused on building dual/multi-network simulation capabilities, evolving from initial explorations of network creation and connectivity to a robust framework.
* Implemented minimal_dual_network_simulation.py to construct two side-by-side minimal HNN-Core networks with optional suffix-based cell type renaming.
* Ensured non-overlapping gid_ranges by adding deterministic drive setup using get_next_gid for independent evoked (and other) drives per network.
* Included explicit dipole_cell_types for suffixed pyramidal cells and joint visualization (combined spike raster + comparative dipoles).
---

## Pull requests (chronological)

### Merged

1. **\[ENH]: CI – add concurrency control to workflows**
   PR: [https://github.com/jonescompneurolab/hnn-core/pull/1015](https://github.com/jonescompneurolab/hnn-core/pull/1015)
   **What:** Added `concurrency` blocks to cancel outdated runs across CI workflows.
   **Why:** Save CI minutes, reduce queue time, and get faster feedback.
   **Status:** *Merged on 2025‑06‑13.*

2. **\[ENH]: Update linkcheck schedule to reduce frequency**
   PR: [https://github.com/jonescompneurolab/hnn-core/pull/1043](https://github.com/jonescompneurolab/hnn-core/pull/1043)
   **What:** Run linkcheck on pushes to `master` and twice monthly (1st/15th, 00:00 UTC); stop running on every PR.
   **Why:** Reduce unnecessary CI load and noise.
   **Status:** *Merged on 2025‑06‑05.*

3. **feat(network): Add `spike_train_drive` for explicit inter‑network inputs**
   PR: [https://github.com/jonescompneurolab/hnn-core/pull/1064](https://github.com/jonescompneurolab/hnn-core/pull/1064)
   **What:** Introduces `Network.add_spike_train_drive()` and tests; adds example tutorial; improves docs.
   **Why:** Core building block for **multi‑network** simulations.
   **Status:** *Merged on 2025‑07‑24.*

### In progress / under review

4. **\[WIP]: Minimal dual‑network end‑to‑end example**
   PR: [https://github.com/jonescompneurolab/hnn-core/pull/1096](https://github.com/jonescompneurolab/hnn-core/pull/1096)
   **What:** Clean dual‑network example + tests (remove debug prints; finalize interface).
   **Why:** Demonstrate the full pipeline from source network → target network using the API.
   **Status:** *Open; pending final clean‑ups.*

### Closed (superseded / exploratory)

5. **\[WIP]: Dual network support (first draft/learning branch)**
   PR: [https://github.com/jonescompneurolab/hnn-core/pull/1084](https://github.com/jonescompneurolab/hnn-core/pull/1084)
   **What:** Early draft to explore multi‑network patterns, validate design choices, and gather feedback.
   **Why:** Helped define the direction for 1096 and the tutorial flow.
   **Status:** *Closed after learnings were merged elsewhere.*

---

## Tutorials & docs authored

* **"Replaying Spike Data as Input"** (How‑to)
  Shows how to take spikes from a source network (or file) and drive a target network using `add_spike_train_drive`.
  [https://jonescompneurolab.github.io/hnn-core/dev/auto\_examples/howto/plot\_replaying\_spike\_data\_as\_input.html](https://jonescompneurolab.github.io/hnn-core/dev/auto_examples/howto/plot_replaying_spike_data_as_input.html)

---

## Weekly/phase timeline (high level)

* **Jun 2025:** Implement and refine `spike_train_drive`; draft multi‑network example; add tests.
* **Jul 2025:** Merge spike‑train drive; finalize tutorial; iterate tests and interfaces for multi‑network.
* **Aug 2025:** Creating dual‑network example; clean up debug logs; finalize PR 1096.

> Detailed weekly notes, code reviews, and discussion are referenced inside PR threads and lab Notion pages.

---
## Future work

* Both dual networks still need to be simulated within the same simulation, after accounting for celltype-naming inconsistencies.
* Inside a combined dual network simulation, tests need to be run to ensure that local connectivity and drive connectivity are connected successfully.
* Finally, within a combined dual network simulation, support needs to be added for introducing new connections between each of the dual networks. Example documentation and testing should be added.

---

## Acknowledgements

- Thank you to my mentors Austin Soplata, Dylan S. Daniels, and Nicholas Tolley for their guidance, reviews, and design feedback throughout this journey.
- I also extend my gratitude to the INCF for organizing and managing this GSoC project, and to Google for funding and supporting this incredible opportunity


---
